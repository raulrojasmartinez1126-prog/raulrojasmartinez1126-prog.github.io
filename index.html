<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Evaluaci√≥n Cl√≠nica Respiratoria</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}

h1 { color: #0b5ed7; }

.bloque {
  background: white;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 8px;
}

.subbloque {
  margin-left: 20px;
  margin-top: 10px;
}

.alerta { color: red; font-weight: bold; }
</style>
</head>

<body>

<h1>Evaluaci√≥n Cl√≠nica Respiratoria</h1>

<!-- DATOS FILIATORIOS -->
<div class="bloque">
  <h3>Datos filiatorios</h3>

  <div class="subbloque">
    <label>Nombre y apellido:</label><br>
    <input type="text" id="nombre" style="width:300px">
  </div>

  <div class="subbloque">
    <label>Edad:</label><br>
    <input type="number" id="edad" min="0" style="width:80px"> a√±os
  </div>

  <div class="subbloque">
    <label>Sexo:</label><br>
    <select id="sexo">
      <option value="">-- seleccionar --</option>
      <option value="Masculino">Masculino</option>
      <option value="Femenino">Femenino</option>
    </select>
  </div>

  <div class="subbloque">
    <label>Procedencia:</label><br>
    <input type="text" id="procedencia" style="width:300px">
  </div>

  <div class="subbloque">
    <label>Ocupaci√≥n:</label><br>
    <input type="text" id="ocupacion" style="width:300px">
  </div>
</div>

<!-- MOTIVO -->
<div class="bloque">
  <h3>Motivo de consulta</h3>
  <label><input type="checkbox" id="tos"> Tos</label><br>
  <label><input type="checkbox" id="disnea"> Disnea</label>
</div>

<!-- TOS -->
<div class="bloque" id="bloqueTos" style="display:none">
  <h3>Tos</h3>

  <div class="subbloque">
    <strong>Tipo</strong><br>
    <label><input type="radio" name="tosTipo" value="productiva"> Productiva</label><br>
    <label><input type="radio" name="tosTipo" value="seca"> Seca</label>
  </div>

  <div class="subbloque">
    <strong>Tiempo de evoluci√≥n</strong><br>
    <label><input type="radio" name="tiempoTos" value="aguda"> Aguda (&lt;3 semanas)</label><br>
    <label><input type="radio" name="tiempoTos" value="subaguda"> Subaguda (3‚Äì8 semanas)</label><br>
    <label><input type="radio" name="tiempoTos" value="cronica"> Cr√≥nica (&gt;8 semanas)</label>
  </div>
</div>

<!-- DISNEA -->
<div class="bloque" id="bloqueDisnea" style="display:none">
  <h3>Disnea</h3>

  <div class="subbloque">
    <label><input type="checkbox" class="disneaTipo" value="de esfuerzo"> De esfuerzo</label><br>
    <label><input type="checkbox" class="disneaTipo" value="en reposo"> En reposo üö®</label><br>
    <label><input type="checkbox" class="disneaTipo" value="nocturna"> Nocturna (PND)</label><br>
    <label><input type="checkbox" class="disneaTipo" value="progresiva"> Progresiva</label>
  </div>
</div>

<!-- BOT√ìN -->
<div class="bloque">
  <button onclick="generarResumen()">ü©∫ Generar resumen cl√≠nico</button>
</div>

<!-- RESUMEN -->
<div class="bloque" id="resumenClinico" style="display:none">
  <h3>Resumen cl√≠nico</h3>
  <div id="textoResumen"></div>
</div>

<script>
const tos = document.getElementById("tos");
const disnea = document.getElementById("disnea");
const bloqueTos = document.getElementById("bloqueTos");
const bloqueDisnea = document.getElementById("bloqueDisnea");
const resumenDiv = document.getElementById("resumenClinico");
const textoResumen = document.getElementById("textoResumen");

tos.addEventListener("change", () => {
  bloqueTos.style.display = tos.checked ? "block" : "none";
});

disnea.addEventListener("change", () => {
  bloqueDisnea.style.display = disnea.checked ? "block" : "none";
});

function generarResumen() {
  let r = "";

  r += `<strong>Paciente:</strong> ${nombre.value || "No consignado"}<br>`;
  r += `<strong>Edad:</strong> ${edad.value || "?"} a√±os<br>`;
  r += `<strong>Sexo:</strong> ${sexo.value || "No consignado"}<br>`;
  r += `<strong>Procedencia:</strong> ${procedencia.value || "No consignada"}<br>`;
  r += `<strong>Ocupaci√≥n:</strong> ${ocupacion.value || "No consignada"}<br><br>`;

  r += `<strong>Motivo de consulta:</strong><br>`;

  if (tos.checked) {
    const tipoTos = document.querySelector('input[name="tosTipo"]:checked');
    const tiempoTos = document.querySelector('input[name="tiempoTos"]:checked');

    r += `‚Äì Tos`;
    if (tipoTos) r += ` ${tipoTos.value}`;
    if (tiempoTos) r += `, ${tiempoTos.value}`;
    r += `<br>`;
  }

  if (disnea.checked) {
    const tipos = [...document.querySelectorAll(".disneaTipo:checked")]
      .map(e => e.value)
      .join(", ");
    r += `‚Äì Disnea ${tipos || ""}<br>`;
  }

  textoResumen.innerHTML = r;
  resumenDiv.style.display = "block";
}
</script>

</body>
</html>
